{
  "version": 3,
  "sources": ["../../@stripe/stripe-js/dist/index.mjs"],
  "sourcesContent": ["var RELEASE_TRAIN = 'clover';\r\n\r\nvar runtimeVersionToUrlVersion = function runtimeVersionToUrlVersion(version) {\r\n  return version === 3 ? 'v3' : version;\r\n};\r\n\r\nvar ORIGIN = 'https://js.stripe.com';\r\nvar STRIPE_JS_URL = \"\".concat(ORIGIN, \"/\").concat(RELEASE_TRAIN, \"/stripe.js\");\r\nvar V3_URL_REGEX = /^https:\\/\\/js\\.stripe\\.com\\/v3\\/?(\\?.*)?$/;\r\nvar STRIPE_JS_URL_REGEX = /^https:\\/\\/js\\.stripe\\.com\\/(v3|[a-z]+)\\/stripe\\.js(\\?.*)?$/;\r\nvar EXISTING_SCRIPT_MESSAGE = 'loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used';\r\n\r\nvar isStripeJSURL = function isStripeJSURL(url) {\r\n  return V3_URL_REGEX.test(url) || STRIPE_JS_URL_REGEX.test(url);\r\n};\r\n\r\nvar findScript = function findScript() {\r\n  var scripts = document.querySelectorAll(\"script[src^=\\\"\".concat(ORIGIN, \"\\\"]\"));\r\n\r\n  for (var i = 0; i < scripts.length; i++) {\r\n    var script = scripts[i];\r\n\r\n    if (!isStripeJSURL(script.src)) {\r\n      continue;\r\n    }\r\n\r\n    return script;\r\n  }\r\n\r\n  return null;\r\n};\r\n\r\nvar injectScript = function injectScript(params) {\r\n  var queryString = params && !params.advancedFraudSignals ? '?advancedFraudSignals=false' : '';\r\n  var script = document.createElement('script');\r\n  script.src = \"\".concat(STRIPE_JS_URL).concat(queryString);\r\n  var headOrBody = document.head || document.body;\r\n\r\n  if (!headOrBody) {\r\n    throw new Error('Expected document.body not to be null. Stripe.js requires a <body> element.');\r\n  }\r\n\r\n  headOrBody.appendChild(script);\r\n  return script;\r\n};\r\n\r\nvar registerWrapper = function registerWrapper(stripe, startTime) {\r\n  if (!stripe || !stripe._registerWrapper) {\r\n    return;\r\n  }\r\n\r\n  stripe._registerWrapper({\r\n    name: 'stripe-js',\r\n    version: \"8.6.0\",\r\n    startTime: startTime\r\n  });\r\n};\r\n\r\nvar stripePromise$1 = null;\r\nvar onErrorListener = null;\r\nvar onLoadListener = null;\r\n\r\nvar onError = function onError(reject) {\r\n  return function (cause) {\r\n    reject(new Error('Failed to load Stripe.js', {\r\n      cause: cause\r\n    }));\r\n  };\r\n};\r\n\r\nvar onLoad = function onLoad(resolve, reject) {\r\n  return function () {\r\n    if (window.Stripe) {\r\n      resolve(window.Stripe);\r\n    } else {\r\n      reject(new Error('Stripe.js not available'));\r\n    }\r\n  };\r\n};\r\n\r\nvar loadScript = function loadScript(params) {\r\n  // Ensure that we only attempt to load Stripe.js at most once\r\n  if (stripePromise$1 !== null) {\r\n    return stripePromise$1;\r\n  }\r\n\r\n  stripePromise$1 = new Promise(function (resolve, reject) {\r\n    if (typeof window === 'undefined' || typeof document === 'undefined') {\r\n      // Resolve to null when imported server side. This makes the module\r\n      // safe to import in an isomorphic code base.\r\n      resolve(null);\r\n      return;\r\n    }\r\n\r\n    if (window.Stripe && params) {\r\n      console.warn(EXISTING_SCRIPT_MESSAGE);\r\n    }\r\n\r\n    if (window.Stripe) {\r\n      resolve(window.Stripe);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      var script = findScript();\r\n\r\n      if (script && params) {\r\n        console.warn(EXISTING_SCRIPT_MESSAGE);\r\n      } else if (!script) {\r\n        script = injectScript(params);\r\n      } else if (script && onLoadListener !== null && onErrorListener !== null) {\r\n        var _script$parentNode;\r\n\r\n        // remove event listeners\r\n        script.removeEventListener('load', onLoadListener);\r\n        script.removeEventListener('error', onErrorListener); // if script exists, but we are reloading due to an error,\r\n        // reload script to trigger 'load' event\r\n\r\n        (_script$parentNode = script.parentNode) === null || _script$parentNode === void 0 ? void 0 : _script$parentNode.removeChild(script);\r\n        script = injectScript(params);\r\n      }\r\n\r\n      onLoadListener = onLoad(resolve, reject);\r\n      onErrorListener = onError(reject);\r\n      script.addEventListener('load', onLoadListener);\r\n      script.addEventListener('error', onErrorListener);\r\n    } catch (error) {\r\n      reject(error);\r\n      return;\r\n    }\r\n  }); // Resets stripePromise on error\r\n\r\n  return stripePromise$1[\"catch\"](function (error) {\r\n    stripePromise$1 = null;\r\n    return Promise.reject(error);\r\n  });\r\n};\r\nvar initStripe = function initStripe(maybeStripe, args, startTime) {\r\n  if (maybeStripe === null) {\r\n    return null;\r\n  }\r\n\r\n  var pk = args[0];\r\n  var isTestKey = pk.match(/^pk_test/); // @ts-expect-error this is not publicly typed\r\n\r\n  var version = runtimeVersionToUrlVersion(maybeStripe.version);\r\n  var expectedVersion = RELEASE_TRAIN;\r\n\r\n  if (isTestKey && version !== expectedVersion) {\r\n    console.warn(\"Stripe.js@\".concat(version, \" was loaded on the page, but @stripe/stripe-js@\").concat(\"8.6.0\", \" expected Stripe.js@\").concat(expectedVersion, \". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning\"));\r\n  }\r\n\r\n  var stripe = maybeStripe.apply(undefined, args);\r\n  registerWrapper(stripe, startTime);\r\n  return stripe;\r\n}; // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\r\n\r\nvar stripePromise;\r\nvar loadCalled = false;\r\n\r\nvar getStripePromise = function getStripePromise() {\r\n  if (stripePromise) {\r\n    return stripePromise;\r\n  }\r\n\r\n  stripePromise = loadScript(null)[\"catch\"](function (error) {\r\n    // clear cache on error\r\n    stripePromise = null;\r\n    return Promise.reject(error);\r\n  });\r\n  return stripePromise;\r\n}; // Execute our own script injection after a tick to give users time to do their\r\n// own script injection.\r\n\r\n\r\nPromise.resolve().then(function () {\r\n  return getStripePromise();\r\n})[\"catch\"](function (error) {\r\n  if (!loadCalled) {\r\n    console.warn(error);\r\n  }\r\n});\r\nvar loadStripe = function loadStripe() {\r\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\r\n    args[_key] = arguments[_key];\r\n  }\r\n\r\n  loadCalled = true;\r\n  var startTime = Date.now(); // if previous attempts are unsuccessful, will re-load script\r\n\r\n  return getStripePromise().then(function (maybeStripe) {\r\n    return initStripe(maybeStripe, args, startTime);\r\n  });\r\n};\r\n\r\nexport { loadStripe };\r\n"],
  "mappings": "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",
  "names": ["runtimeVersionToUrlVersion", "isStripeJSURL", "findScript", "injectScript", "registerWrapper", "onError", "onLoad", "loadScript", "initStripe", "getStripePromise", "loadStripe"]
}
